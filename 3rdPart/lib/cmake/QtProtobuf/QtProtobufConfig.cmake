set(QT_VERSIONED_PREFIX Qt5)
set(QT_PROTOBUF_STATIC ON)
set(QT_PROTOBUF_NAMESPACE QtProtobuf)
list(PREPEND CMAKE_MODULE_PATH "${CMAKE_CURRENT_LIST_DIR}")
foreach(component ${QtProtobuf_FIND_COMPONENTS})
    # For requested component, execute its "config" script
    if(component STREQUAL "ProtobufGenerator")
        if(NOT CMAKE_CROSSCOMPILING)
            set(component_config "${CMAKE_CURRENT_LIST_DIR}/${QT_PROTOBUF_NAMESPACE}qtprotobufgenConfig.cmake")
        else()
            set(component_config "${QT_PROTOBUF_HOST_PATH}/${QT_PROTOBUF_NAMESPACE}/${QT_PROTOBUF_NAMESPACE}qtprotobufgenConfig.cmake")
        endif()
    else()
        set(component_config "${CMAKE_CURRENT_LIST_DIR}/${QT_PROTOBUF_NAMESPACE}${component}Config.cmake")
    endif()
    get_filename_component(component_config "${component_config}" ABSOLUTE)
    if(NOT EXISTS "${component_config}")
        message(FATAL_ERROR "Component ${component} not found. ${component_config} doesn't exist.")
    endif()
    include("${component_config}")
endforeach()
